<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><% if(typeof title !== 'undefined') { %><%= title %><% } else { %>FreshLink<% } %> | FreshLink</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#16a34a',
                        secondary: '#3b82f6',
                        accent: '#f97316',
                        'primary-dark': '#15803d',
                        'primary-light': '#86efac'
                    }
                }
            }
        }
    </script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">
    
    <%- typeof extraStyles !== 'undefined' ? extraStyles : '' %>
</head>
<body class="flex flex-col min-h-screen bg-gray-100">
    
    <!-- Header -->
    <%- include('../partials/header') %>
    
    <!-- Flash Messages -->
    <% if(locals.success_msg && success_msg != '') { %>
        <div class="mx-auto w-full max-w-7xl px-4 mt-6">
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative flash-message" role="alert">
                <strong class="font-bold">Success!</strong>
                <span class="block sm:inline"><%= success_msg %></span>
                <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
                    <button class="close-alert" onclick="this.parentElement.parentElement.style.display='none'">
                        <svg class="fill-current h-6 w-6 text-green-500" viewBox="0 0 20 20"><path d="M14.293 5.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586l4.293-4.293z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>
                    </button>
                </span>
            </div>
        </div>
    <% } %>
    
    <% if(locals.error_msg && error_msg != '') { %>
        <div class="mx-auto w-full max-w-7xl px-4 mt-6">
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative flash-message" role="alert">
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline"><%= error_msg %></span>
                <span class="absolute top-0 bottom-0 right-0 px-4 py-3">
                    <button class="close-alert" onclick="this.parentElement.parentElement.style.display='none'">
                        <svg class="fill-current h-6 w-6 text-red-500" viewBox="0 0 20 20"><path d="M14.293 5.293a1 1 0 011.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414L10 8.586l4.293-4.293z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>
                    </button>
                </span>
            </div>
        </div>
    <% } %>
    
    <!-- Main Content -->
    <main class="flex-grow">
        <%- body %>
    </main>
    
    <!-- Footer -->
    <%- include('../partials/footer') %>
    
    <!-- JavaScript -->
    <script src="/js/main.js"></script>
    <script src="/js/google-auth.js"></script>
    
    <%- typeof extraScripts !== 'undefined' ? extraScripts : '' %>
    
    <!-- Page-specific scripts -->
    <%- typeof scripts !== 'undefined' ? scripts : '' %>
</body>
</html> 